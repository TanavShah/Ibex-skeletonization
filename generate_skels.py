from biologicalgraphs.transforms import seg2seg
from biologicalgraphs.skeletonization import generate_skeletons
from biologicalgraphs.utilities import dataIO
from biologicalgraphs.utilities.dataIO import ReadSkeletons

import pickle

# the prefix name corresponds to the meta file in meta/{PREFIX}.meta
prefix = 'axon'

# read the input segmentation data

segmentation = dataIO.ReadSegmentationData(prefix)

op_filename = "skels_combined.pic"

# remove the singleton slices
#node_generation.RemoveSingletons(prefix, segmentation)

# need to update the prefix and segmentation
# removesingletons writes a new h5 file to disk
#prefix = '{}-segmentation-wos'.format(prefix)
#segmentation = dataIO.ReadSegmentationData(prefix)

# generate the skeleton by getting high->low resolution mappings
# and running topological thinnings
print("start")
seg2seg.DownsampleMapping(prefix, segmentation)
print("step 1")
generate_skeletons.TopologicalThinning(prefix, segmentation)
print("step 2")
generate_skeletons.FindEndpointVectors(prefix)
print("Step 3")
skeletons = ReadSkeletons(prefix)


skeletons_req = []




seg_ids = [[13,14], [17,17], [19,37], [39,63], [65,91], [93,99], [101,153], [155,246], [248,257],
        [259,276], [278,5351], [5353,5354], [5356,5826], [5828,5974], [5976,6198], [6200,6387],
        [6389,6390], [6392,6524], [6527,6562], [6564,6584], [6586,6662], [6664,6712], [6714,6725],
        [6727,6742], [6744,6774], [6776,6795], [6797,6870], [6872,6873], [6875,6881], [6883,6894],
        [6896,6904], [6906,6921], [6923,6938], [6940,6953], [6955,6978], [6980,7016], [7018,7025],
        [7027,7029], [7031,7046], [7048,7062], [7064,7066], [7069,7083], [7085,7095], [7097,7105],
        [7107,7115], [7117,7123], [7126,7167], [7169,7181], [7183,7198], [7200,7200], [7202,7215],
        [7217,7249], [7251,7261], [7263,7278], [7280,7315], [7317,7324], [7326,7340], [7342,7344],
        [7346,7370], [7372,7378], [7380,7390], [7392,7393], [7395,7400], [7402,7409], [7411,7417],
        [7419,7435], [7437,7455], [7457,7465], [7467,7474], [7476,7477], [7479,7482], [7484,7533],
        [7535,7538], [7540,7544], [7546,7546], [7548,7553], [7555,7555], [7557,7558], [7560,7600],
        [7602,7615], [7617,7618], [7620,7629], [7631,7634], [7636,7636], [7638,7650], [7652,7655],
        [7657,7671], [7673,7676], [7678,7710], [7712,7714], [7716,7719], [7721,7741], [7743,7759],
        [7761,7764], [7766,7768], [7770,7793], [7795,7797], [7799,7806], [7809,7813], [7816,7816],
        [7818,7829], [7831,7831], [7834,7836], [7838,7845], [7847,7866], [7868,7868], [7870,7872],
        [7874,7887], [7891,7902], [7904,7905], [7907,7922], [7924,7955], [7957,7957], [7960,7960],
        [7962,7962], [7964,7965], [7967,7970], [7972,7972], [7974,7975], [7977,7998], [8000,8001],
        [8003,8003], [8005,8030], [8033,8040], [8042,8049], [8051,8058], [8060,8064], [8066,8066],
        [8068,8079], [8081,8084], [8086,8091], [8093,8093], [8095,8095], [8098,8099], [8102,8102],
        [8104,8109], [8111,8118], [8120,8121], [8123,8123], [8126,8143], [8145,8150], [8152,8155],
        [8157,8159], [8162,8164], [8166,8171], [8173,8176], [8178,8178], [8181,8183], [8185,8187],
        [8189,8189], [8191,8194], [8196,8196], [8199,8204], [8209,8229], [8231,8251], [8253,8258],
        [8260,8266], [8268,8269], [8271,8271], [8273,8278], [8280,8281], [8284,8288], [8290,8293],
        [8295,8297], [8299,8301], [8303,8306], [8308,8309], [8311,8312], [8315,8318], [8320,8323],
        [8325,8332], [8334,8336], [8338,8338], [8340,8340], [8342,8346], [8348,8348], [8350,8350],
        [8354,8361], [8363,8364], [8366,8370], [8372,8374], [8376,8390], [8392,8394], [8398,8418],
        [8420,8421], [8423,8425], [8427,8431], [8433,8437], [8439,8442], [8445,8447], [8449,8455],
        [8457,8465], [8467,8475], [8477,8486], [8489,8497], [8499,8501], [8503,8503], [8505,8507],
        [8509,8509], [8511,8516], [8518,8519], [8522,8525], [8527,8531], [8533,8534], [8536,8542],
        [8544,8549], [8551,8551], [8553,8553], [8558,8568], [8570,8573], [8575,8575], [8577,8586],
        [8588,8589], [8591,8592], [8596,8597], [8599,8603], [8605,8611], [8613,8620], [8623,8624],
        [8626,8626], [8628,8628], [8630,8632], [8634,8640], [8642,8643], [8646,8646], [8648,8648],
        [8650,8657], [8660,8660], [8662,8662], [8664,8670], [8672,8677], [8680,8680], [8682,8686],
        [8689,8692], [8694,8695], [8698,8698], [8700,8700], [8702,8702], [8705,8705], [8707,8708],
        [8710,8710], [8712,8712], [8716,8721], [8725,8738], [8740,8740], [8742,8743], [8745,8746],
        [8748,8749], [8751,8752], [8754,8759], [8761,8762], [8765,8765], [8767,8768], [8772,8773],
        [8775,8777], [8780,8784], [8787,8788], [8790,8790], [8792,8799], [8801,8802], [8804,8804],
        [8808,8809], [8811,8817], [8819,8820], [8822,8824], [8826,8829], [8831,8831], [8833,8834],
        [8836,8836], [8838,8842], [8844,8845], [8847,8850], [8852,8853], [8856,8856], [8858,8858],
        [8861,8861], [8863,8866], [8868,8868], [8870,8874], [8876,8877], [8881,8881], [8883,8887],
        [8889,8895], [8898,8904], [8906,8906], [8911,8919], [8921,8924], [8926,8926], [8928,8928],
        [8930,8930], [8932,8933], [8935,8938], [8941,8941], [8943,8945], [8947,8950], [8952,8954],
        [8956,8957], [8959,8959], [8961,8961], [8964,8968], [8970,8973], [8975,8979], [8981,8982],
        [8988,8991], [8994,8996], [8998,8999], [9002,9003], [9005,9007], [9009,9014], [9016,9016],
        [9019,9020], [9023,9023], [9025,9028], [9030,9034], [9038,9044], [9046,9048], [9050,9058],
        [9061,9063], [9066,9066], [9068,9068], [9070,9075], [9077,9077], [9079,9081], [9083,9083],
        [9085,9086], [9088,9089], [9091,9096], [9099,9104], [9106,9106], [9109,9111], [9113,9114],
        [9116,9116], [9118,9118], [9121,9128], [9130,9131], [9133,9135], [9137,9138], [9140,9140],
        [9142,9144], [9146,9146], [9148,9148], [9152,9153], [9155,9156], [9158,9159], [9161,9161],
        [9163,9163], [9166,9173], [9176,9176], [9178,9179], [9184,9187], [9192,9193], [9195,9200],
        [9205,9205], [9207,9212], [9215,9218], [9220,9220], [9222,9225], [9227,9230], [9233,9234],
[9236,9237], [9239,9240], [9242,9243], [9245,9247], [9251,9253], [9255,9256], [9260,9260],
[9262,9262], [9264,9264], [9266,9267], [9269,9271], [9273,9273], [9275,9275], [9278,9284],
[9286,9288], [9290,9291], [9293,9293], [9296,9296], [9299,9300], [9302,9303], [9305,9305],
[9312,9320], [9322,9323], [9330,9331], [9333,9333], [9335,9339], [9341,9347], [9349,9349],
[9351,9357], [9359,9359], [9361,9362], [9364,9366], [9369,9375], [9377,9378], [9381,9381],
[9383,9383], [9385,9388], [9390,9397], [9399,9399], [9401,9401], [9404,9407], [9409,9409],
[9412,9412], [9414,9415], [9417,9421], [9423,9424], [9427,9428], [9432,9435], [9439,9441],
[9443,9444], [9446,9446], [9448,9448], [9452,9452], [9455,9456], [9458,9458], [9460,9461],
[9463,9464], [9467,9469], [9476,9478], [9480,9483], [9487,9492], [9494,9495], [9497,9499],
[9502,9502], [9504,9504], [9508,9512], [9515,9515], [9518,9520], [9525,9527], [9529,9535],
[9537,9537], [9539,9540], [9542,9545], [9548,9548], [9550,9551], [9553,9556], [9559,9561],
[9563,9563], [9566,9569], [9573,9574], [9583,9585], [9588,9591], [9594,9594], [9596,9598],
[9600,9600], [9602,9604], [9606,9608], [9611,9611], [9614,9615], [9617,9619], [9624,9625],
[9627,9628], [9631,9631], [9633,9634], [9636,9636], [9638,9643], [9645,9645], [9647,9647],
[9649,9650], [9653,9653], [9655,9658], [9660,9664], [9668,9669], [9672,9673], [9675,9676],
[9678,9678], [9681,9686], [9688,9688], [9690,9691], [9693,9695], [9697,9697], [9702,9703],
[9705,9705], [9708,9708], [9711,9711], [9713,9716], [9719,9719], [9724,9728], [9730,9732],
[9734,9734], [9736,9736], [9739,9741], [9743,9744], [9746,9747], [9750,9751], [9753,9758],
[9760,9760], [9762,9762], [9764,9766], [9769,9770], [9773,9774], [9778,9780], [9783,9783],
[9785,9786], [9788,9792], [9794,9795], [9797,9798], [9800,9803], [9805,9811], [9813,9813],
[9815,9815], [9818,9819], [9821,9821], [9823,9823], [9825,9828], [9832,9832], [9834,9834],
[9836,9836], [9839,9840], [9844,9845], [9847,9851], [9853,9853], [9855,9855], [9857,9857],
[9861,9862], [9866,9871], [9876,9876], [9880,9882], [9884,9884], [9886,9886], [9888,9889],
[9894,9895], [9899,9899], [9901,9902], [9904,9906], [9908,9909], [9914,9915], [9917,9921],
[9923,9923], [9926,9926], [9928,9931], [9933,9934], [9936,9939], [9941,9941], [9943,9943],
[9945,9945], [9947,9947], [9950,9952], [9955,9955], [9958,9958], [9963,9964], [9968,9969],
[9971,9971], [9973,9974], [9976,9977], [9979,9979], [9984,9986], [9989,9990], [9994,9994],
[9996,9997], [10001,10001], [10003,10004], [10007,10008], [10010,10010], [10014,10016],
[10018,10018], [10021,10022], [10025,10028], [10034,10035], [10038,10040], [10042,10042],
[10045,10045], [10049,10051], [10054,10054], [10056,10056], [10058,10059], [10061,10062],
[10065,10066], [10068,10068], [10070,10071], [10073,10075], [10078,10078], [10080,10080],
[10082,10083], [10090,10094], [10097,10098], [10102,10103], [10108,10108], [10115,10116],
[10118,10118], [10120,10120], [10123,10123], [10125,10125], [10127,10127], [10130,10130],
[10132,10132], [10134,10134], [10136,10136], [10139,10139], [10141,10144], [10146,10148],
[10154,10154], [10156,10158], [10161,10161], [10164,10167], [10169,10169], [10175,10177],
[10180,10181], [10186,10186], [10188,10189], [10191,10192], [10194,10196], [10198,10201],
[10203,10204], [10206,10206], [10208,10211], [10214,10214], [10216,10219], [10223,10223],
[10226,10226], [10228,10229], [10233,10236], [10241,10241], [10244,10244], [10246,10247],
[10251,10251], [10253,10253], [10256,10256], [10258,10258], [10263,10265], [10267,10267],
[10271,10274], [10276,10276], [10278,10278], [10281,10282], [10286,10286], [10288,10289],
[10291,10292], [10295,10298], [10303,10311], [10313,10313], [10321,10321], [10323,10325],
[10328,10328], [10330,10330], [10332,10334], [10337,10337], [10339,10339], [10343,10344],
[10348,10348], [10351,10352], [10354,10354], [10357,10357], [10361,10361], [10363,10363],
[10365,10366], [10370,10370], [10373,10373], [10375,10375], [10377,10377], [10381,10381],
[10383,10383], [10385,10385], [10387,10388], [10391,10391], [10393,10395], [10397,10398],
[10401,10401], [10404,10404], [10406,10406], [10409,10412], [10414,10417], [10421,10421],
[10426,10426], [10429,10429], [10432,10436], [10439,10440], [10446,10446], [10448,10448],
[10453,10453], [10455,10455], [10458,10458], [10461,10461], [10463,10463], [10465,10465],
[10468,10470], [10474,10474], [10480,10481], [10484,10487], [10491,10491], [10493,10493],
[10495,10497], [10499,10504], [10506,10506], [10511,10511], [10515,10515], [10518,10518],
[10520,10521], [10528,10528], [10531,10532], [10536,10539], [10541,10541], [10543,10543],
[10546,10546], [10548,10548], [10552,10552], [10554,10554], [10556,10558], [10566,10566],
[10568,10569], [10572,10572], [10575,10576], [10579,10580], [10583,10588], [10594,10594],
[10600,10600], [10606,10606], [10609,10609], [10612,10612], [10614,10615], [10618,10618],
[10621,10622], [10624,10624], [10627,10631], [10633,10633], [10636,10636], [10641,10641],
[10643,10643], [10645,10645], [10649,10649], [10651,10651], [10654,10655], [10660,10660],
[10665,10665], [10667,10668], [10671,10671], [10673,10679], [10681,10682], [10685,10688],
[10692,10692], [10695,10697], [10701,10702], [10706,10709], [10711,10715], [10717,10719],
[10721,10724], [10727,10727], [10730,10730], [10732,10733], [10735,10735], [10737,10738],
[10740,10744], [10747,10747], [10750,10752], [10756,10756], [10760,10760], [10766,10767],
[10772,10772], [10776,10777], [10779,10780], [10783,10783], [10788,10791], [10793,10794],
[10798,10798], [10800,10800], [10803,10806], [10808,10808], [10812,10812], [10818,10818],
[10820,10820], [10822,10822], [10824,10826], [10828,10828], [10838,10838], [10841,10841],
[10846,10847], [10849,10851], [10854,10854], [10859,10860], [10862,10862], [10864,10864],
[10868,10868], [10871,10871], [10873,10873], [10879,10879], [10881,10882], [10885,10885],
[10888,10888], [10893,10895], [10897,10897], [10900,10900], [10906,10906], [10909,10910],
[10912,10912], [10915,10915], [10919,10921], [10923,10923], [10925,10926], [10929,10929],
[10933,10934], [10936,10936], [10941,10941], [10946,10948], [10957,10957], [10959,10960],
[10962,10962], [10965,10968], [10974,10975], [10979,10983], [10986,10986], [10988,10989],
[10994,10994], [10997,10998], [11006,11006], [11008,11008], [11010,11010], [11012,11012],
[11018,11018], [11020,11020], [11023,11024], [11026,11027], [11030,11030], [11032,11032],
[11037,11037], [11040,11040], [11046,11047], [11049,11049], [11059,11059], [11062,11065],
[11067,11069], [11072,11072], [11074,11075], [11077,11077], [11079,11079], [11081,11084],
[11088,11088], [11091,11091], [11093,11093], [11095,11095], [11102,11102], [11107,11107],
[11109,11109], [11114,11114], [11116,11117], [11119,11121], [11123,11123], [11131,11133],
[11135,11136], [11141,11141], [11145,11145], [11151,11151], [11153,11153], [11156,11157],
[11163,11164], [11168,11168], [11171,11171], [11173,11173], [11177,11177], [11180,11183],
[11190,11191], [11193,11193], [11196,11197], [11200,11200], [11202,11203], [11208,11208],
[11210,11210], [11212,11212], [11214,11215], [11217,11218], [11220,11221], [11225,11226],
[11228,11230], [11233,11233], [11235,11235], [11237,11238], [11240,11241], [11250,11251],
[11255,11256], [11258,11258], [11260,11262], [11265,11265], [11268,11272], [11274,11274],
[11280,11281], [11286,11287], [11289,11289], [11291,11292], [11297,11299], [11304,11304],
[11312,11313], [11316,11316], [11318,11318], [11321,11323], [11327,11328], [11333,11333],
[11336,11336], [11339,11339], [11341,11343], [11349,11349], [11354,11355], [11358,11359],
[11364,11365], [11369,11370], [11372,11373], [11375,11376], [11381,11382], [11384,11384],
[11387,11390], [11392,11392], [11400,11402], [11405,11405], [11409,11411], [11415,11415],
[11417,11421], [11425,11426], [11432,11432], [11438,11438], [11441,11441], [11443,11443],
[11445,11446], [11451,11453], [11455,11455], [11458,11459], [11462,11462], [11474,11474],
[11481,11481], [11492,11493], [11496,11497], [11502,11503], [11506,11506], [11508,11511],
[11514,11515], [11517,11517], [11521,11521], [11523,11523], [11527,11527], [11539,11540],
[11543,11543], [11550,11550], [11555,11555], [11563,11563], [11565,11566], [11568,11569],
[11571,11572], [11575,11576], [11580,11580], [11583,11584], [11586,11587], [11595,11595],
[11597,11597], [11604,11606], [11609,11609], [11613,11614], [11616,11616], [11618,11618],
[11620,11622], [11625,11627], [11634,11635], [11638,11638], [11640,11640], [11645,11647],
[11649,11649], [11660,11661], [11664,11665], [11674,11674], [11676,11677], [11682,11685],
[11691,11692], [11695,11695], [11699,11700], [11702,11704], [11707,11708], [11710,11710],
[11717,11718], [11721,11721], [11724,11727], [11730,11731], [11736,11736], [11738,11738],
[11741,11741], [11746,11746], [11748,11749], [11751,11751], [11754,11755], [11757,11757],
[11764,11765], [11770,11770], [11772,11772], [11774,11774], [11783,11783], [11786,11786],
[11789,11789], [11791,11793], [11796,11796], [11799,11799], [11804,11804], [11806,11809],
[11812,11812], [11814,11815], [11817,11817], [11820,11822], [11826,11827], [11830,11830],
[11832,11833], [11842,11844], [11847,11847], [11859,11859], [11862,11862], [11867,11867],
[11869,11870], [11872,11872], [11874,11875], [11877,11877], [11886,11886], [11889,11889],
[11891,11891], [11894,11894], [11898,11898], [11902,11903], [11910,11910], [11913,11913],
[11918,11918], [11921,11921], [11923,11923], [11925,11925], [11928,11928], [11930,11930],
[11932,11932], [11938,11940], [11943,11943], [11947,11947], [11951,11951], [11953,11953],
[11955,11955], [11959,11959], [11965,11965], [11973,11973], [11975,11975], [11977,11979],
[11983,11985], [11988,11988], [11991,11993], [12000,12000], [12004,12004], [12006,12006],
[12010,12010], [12019,12019], [12021,12021], [12025,12025], [12027,12027], [12032,12033],
[12046,12046], [12049,12049], [12052,12052], [12060,12060], [12064,12065], [12067,12067],
[12072,12072], [12075,12075], [12077,12077], [12082,12082], [12087,12087], [12090,12090],
[12093,12093], [12097,12097], [12111,12111], [12114,12114], [12116,12116], [12118,12119],
[12121,12121], [12131,12131], [12134,12134], [12136,12136], [12140,12142], [12147,12149],
[12151,12151], [12153,12153], [12157,12157], [12163,12163], [12168,12168], [12172,12172],
[12182,12182], [12186,12188], [12190,12190], [12194,12195], [12197,12198], [12201,12201],
[12205,12205], [12208,12208], [12210,12211], [12214,12214], [12219,12219], [12221,12223],
[12226,12226], [12230,12230], [12232,12233], [12235,12235], [12239,12239], [12247,12247],
[12250,12250], [12255,12256], [12258,12258], [12261,12262], [12264,12264], [12266,12269],
[12272,12272], [12278,12279], [12286,12286], [12289,12289], [12291,12291], [12301,12302],
[12310,12310], [12316,12316], [12318,12318], [12325,12325], [12327,12327], [12329,12330],
[12334,12335], [12337,12339], [12344,12345], [12348,12348], [12350,12350], [12352,12353],
[12355,12356], [12358,12358], [12360,12360], [12362,12362], [12364,12364], [12372,12372],
[12374,12374], [12378,12380], [12386,12386], [12391,12391], [12394,12394], [12398,12398],
[12400,12401], [12405,12405], [12411,12411], [12413,12413], [12415,12415], [12421,12421],
[12424,12424], [12430,12430], [12441,12442], [12451,12451], [12453,12454], [12459,12459],
[12462,12462], [12467,12468], [12477,12477], [12482,12482], [12484,12484], [12490,12490],
[12501,12502], [12506,12506], [12515,12515], [12517,12517], [12519,12520], [12531,12531],
[12537,12537], [12543,12545], [12563,12564], [12568,12568], [12570,12570], [12572,12573],
[12575,12575], [12579,12579], [12585,12586], [12592,12592], [12606,12606], [12611,12611],
[12613,12613], [12618,12618], [12620,12620], [12623,12623], [12625,12626], [12628,12629],
[12631,12632], [12634,12634], [12637,12637], [12643,12643], [12645,12645], [12649,12649],
[12651,12651], [12653,12653], [12655,12656], [12658,12658], [12661,12661], [12669,12669],
[12675,12675], [12683,12683], [12686,12688], [12691,12691], [12693,12693], [12698,12699],
[12701,12701], [12703,12703], [12706,12706], [12708,12709], [12713,12714], [12717,12718],
[12723,12723], [12727,12727], [12735,12735], [12738,12739], [12743,12743], [12756,12756],
[12762,12762], [12768,12768], [12771,12771], [12773,12773], [12775,12775], [12778,12779],
[12783,12787], [12796,12797], [12811,12811], [12817,12818], [12824,12825], [12827,12827],
[12837,12838], [12842,12842], [12852,12853], [12859,12859], [12867,12867], [12878,12878],
[12880,12881], [12885,12886], [12888,12890], [12893,12893], [12903,12903], [12908,12908],
[12910,12910], [12913,12913], [12916,12916], [12929,12930], [12933,12933], [12935,12935],
[12940,12940], [12942,12942], [12947,12948], [12951,12951], [12962,12962], [12964,12966],
[12969,12969], [12972,12972], [12979,12979], [12984,12985], [12990,12991], [12996,12996],
[12999,12999], [13004,13005], [13008,13008], [13011,13011], [13013,13015], [13018,13020],
[13029,13029], [13031,13031], [13036,13036], [13050,13050], [13054,13055], [13061,13061],
[13066,13067], [13073,13074], [13076,13076], [13081,13081], [13084,13084], [13088,13088],
[13093,13093], [13101,13101], [13109,13109], [13112,13112], [13116,13117], [13119,13121],
[13126,13126], [13128,13128], [13134,13134], [13148,13148], [13155,13155], [13160,13160],
[13165,13165], [13167,13167], [13182,13182], [13185,13185], [13188,13189], [13193,13193],
[13197,13197], [13208,13208], [13215,13215], [13219,13219], [13235,13235], [13240,13240],
[13246,13247], [13251,13252], [13256,13256], [13263,13263], [13270,13270], [13280,13280],
[13290,13290], [13297,13297], [13300,13301], [13303,13303], [13307,13308], [13314,13314],
[13320,13322], [13325,13325], [13327,13327], [13332,13332], [13334,13335], [13339,13339],
[13341,13341], [13345,13348], [13356,13356], [13360,13360], [13366,13366], [13386,13386],
[13389,13389], [13397,13397], [13402,13402], [13404,13404], [13411,13411], [13419,13419],
[13423,13423], [13425,13425], [13431,13431], [13438,13438], [13447,13447], [13450,13450],
[13452,13452], [13467,13467], [13471,13471], [13476,13476], [13481,13481], [13483,13483],
[13485,13486], [13491,13491], [13496,13496], [13500,13500], [13505,13506], [13510,13510],
[13513,13513], [13519,13519], [13525,13526], [13529,13529], [13537,13537], [13542,13543],
[13546,13546], [13552,13553], [13561,13561], [13563,13563], [13566,13566], [13573,13575],
[13581,13581], [13585,13586], [13591,13591], [13593,13593], [13596,13596], [13600,13600],
[13602,13603], [13608,13608], [13627,13627], [13638,13638], [13642,13642], [13647,13647],
[13665,13665], [13671,13671], [13676,13676], [13679,13679], [13695,13695], [13700,13703],
[13705,13706], [13711,13711], [13715,13715], [13718,13718], [13729,13729], [13741,13741],
[13747,13747], [13749,13750], [13754,13754], [13771,13772], [13785,13786], [13794,13796],
[13805,13806], [13811,13811], [13814,13814], [13820,13820], [13825,13826], [13829,13829],
[13846,13846], [13854,13854], [13857,13857], [13859,13859], [13863,13863], [13878,13878],
[13884,13884], [13894,13894], [13905,13906], [13918,13918], [13921,13921], [13928,13928],
[13931,13931], [13933,13933], [13947,13949], [13955,13955], [13958,13958], [13961,13961],
[13963,13963], [13968,13968], [13985,13985], [14002,14003], [14010,14010], [14027,14028],
[14030,14030], [14037,14037], [14039,14039], [14049,14049], [14061,14061], [14064,14067],
[14073,14073], [14092,14092], [14094,14094], [14097,14097], [14103,14103], [14106,14106],
[14110,14110], [14117,14117], [14128,14128], [14140,14140], [14150,14150], [14152,14152],
[14179,14179], [14184,14184], [14187,14187], [14190,14190], [14196,14196], [14201,14201],
[14206,14206], [14210,14210], [14225,14225], [14227,14227], [14232,14232], [14238,14238],
[14240,14241], [14251,14251], [14260,14260], [14276,14276], [14284,14284], [14302,14302],
[14322,14323], [14326,14326], [14328,14328], [14330,14330], [14333,14333], [14338,14338],
[14342,14343], [14345,14345], [14368,14368], [14376,14376], [14378,14378], [14380,14381],
[14383,14384], [14394,14394], [14397,14397], [14402,14402], [14405,14405], [14418,14418],
[14429,14429], [14441,14441], [14445,14445], [14455,14455], [14461,14461], [14493,14493],
[14497,14498], [14513,14513], [14518,14518], [14523,14523], [14525,14525], [14527,14527],
[14549,14549], [14558,14558], [14561,14561], [14577,14577], [14581,14581], [14584,14584],
[14587,14587], [14600,14600], [14605,14605], [14609,14609], [14615,14615], [14619,14619],
[14632,14632], [14645,14645], [14648,14648], [14677,14677], [14695,14695], [14697,14697],
[14705,14705], [14711,14711], [14719,14719], [14737,14737], [14744,14744], [14752,14752],
[14768,14768], [14772,14772], [14785,14786], [14789,14789], [14799,14799], [14810,14810],
[14818,14819], [14840,14841], [14846,14846], [14850,14850], [14868,14868], [14886,14886],
[14892,14892], [14897,14899], [14909,14909], [14933,14933], [14939,14939], [14951,14951],
[14957,14957], [14960,14960], [14973,14973], [14982,14982], [14993,14993], [15017,15017],
[15020,15020], [15022,15022], [15033,15033], [15040,15040], [15043,15043], [15045,15046],
[15061,15061], [15063,15063], [15081,15081], [15086,15086], [15089,15089], [15107,15107],
[15113,15113], [15120,15120], [15122,15122], [15168,15168], [15179,15179], [15208,15208],
[15220,15220], [15238,15239], [15254,15254], [15261,15261], [15278,15278], [15294,15294],
[15299,15299], [15316,15316], [15335,15335], [15339,15339], [15342,15342], [15344,15344],
[15357,15357], [15404,15404], [15406,15406], [15416,15416], [15424,15424], [15468,15468],
[15488,15488], [15499,15499], [15532,15532], [15537,15537], [15540,15540], [15546,15546],
[15585,15585], [15588,15588], [15607,15607], [15609,15610], [15636,15636], [15655,15655],
[15679,15679], [15687,15687], [15693,15693], [15702,15702], [15722,15722], [15746,15746],
[15757,15757], [15760,15760], [15768,15768], [15798,15798], [15800,15800], [15858,15858],
[15865,15865], [15883,15883], [15892,15893], [15899,15899], [15909,15909], [15915,15915],
[15917,15917], [15936,15936], [15953,15953], [15968,15968], [15982,15983], [15990,15990],
[15997,15997], [16055,16055], [16070,16070], [16076,16076], [16102,16102], [16108,16108],
[16112,16112], [16114,16114], [16153,16153], [16155,16155], [16213,16213], [16284,16284],
[16288,16288], [16307,16307], [16319,16319], [16325,16325], [16380,16380], [16385,16385],
[16479,16479], [16491,16491], [16498,16498], [16511,16511], [16521,16521], [16538,16538],
[16589,16589], [16620,16620], [16640,16640], [16660,16660], [16674,16674], [16697,16697],
[16721,16721], [16887,16887], [16889,16889], [16891,16891], [16976,16976], [17007,17007],
[17027,17027], [17032,17033], [17036,17036], [17076,17077], [17118,17118], [17192,17192],
[17194,17194], [17238,17238], [17244,17244], [17258,17258], [17298,17298], [17329,17329],
[17340,17340], [17354,17354], [17424,17424], [17589,17589], [17638,17638], [17647,17647],
[17683,17683], [17711,17711], [17789,17789], [17792,17792], [17799,17799], [17965,17965],
[17979,17979], [18016,18016], [18058,18058], [18159,18159], [18229,18229], [18252,18252],
[18259,18259], [18310,18310], [18416,18416], [18486,18486], [18644,18644], [18669,18669],
[18740,18740], [19510,19510], [19546,19546], [19698,19698], [19764,19764], [20096,20096],
[20133,20133], [20164,20164], [20463,20463], [20555,20555], [21001,21001], [21475,21475],
[26434,26434], [28432,28432]]



range_idx = 0

for label in range(30000):
    check = 1
    for i in range(range_idx, len(seg_ids)):
        if(label < seg_ids[i][0]):
            range_idx = i
            break
        if(label >= seg_ids[i][0] and label <= seg_ids[i][1]):
            range_idx = i
            check = 0
            break

    if(check == 0):
        skeletons_req.append(skeletons[label])


with open(op_filename, 'wb') as fp:
    pickle.dump(skeletons_req, fp)
